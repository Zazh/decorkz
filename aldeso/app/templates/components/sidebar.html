<!-- BEGIN Sidebar -->
<aside x-data="sidebar" id="sidebar" class="fixed top-0 left-0 h-screen w-5/6 md:w-1/2 lg:w-1/4 bg-white text-black transition-transform duration-300 -translate-x-full z-50">
    <div class="navbar-burger active [ border-b-1 border-b-gray-300 px-5 h-14 ] [ flex items-center gap-5 ]">
        <button class="js-sidebar-close burger-icon-w [ flex items-center justify-center ]" >
            <svg class="burger-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 48 48">
                <g transform="translate(24, 24)">
                    <!-- Верхняя линия, повернутая на 45 градусов -->
                    <rect x="-24" y="-2" width="48" height="4" fill="#000" transform="rotate(45)"/>
                    <!-- Нижняя линия, повернутая на -45 градусов -->
                    <rect x="-24" y="-2" width="48" height="4" fill="#000" transform="rotate(-45)"/>
                </g>
            </svg>
        </button>
        <span class="2xl:text-2xl text-xl tracking-widest font-semibold text-black">MENU</span>
    </div>
    <div class="px-6 pt-8 flex flex-col gap-4">
        <ul>
            <li>
                <a href="/" rel="external" class="block pt-2 font-[500] text-black uppercase">Главная</a>
            </li>
            <li>
                <p class="block pt-2 pb-0 font-[500] text-black uppercase">Продукция</p>
                <ol class="pl-2 py-2">
                    <template x-for="c in categories" :key="c.id">
                      <li>
                        <a :href="`/catalog/${c.slug}/`"
                           :class="activeSlug === c.slug ? 'font-bold text-blue-600' : ''"
                           class="text-sm font-[500] capitalize"
                           x-text="c.title">
                        </a>
                      </li>
                    </template>
                </ol>
            </li>
        </ul>
    </div>
</aside>
<div id="overlay" class="js-sidebar-close fixed inset-0 bg-black/50  backdrop-blur-sm z-40 hidden"></div>
<!-- END Sidebar -->

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');

        const openSidebar = () => {
            sidebar.classList.remove('-translate-x-full');
            sidebar.classList.add('translate-x-0');
            overlay.classList.remove('hidden');
        };

        const closeSidebar = () => {
            sidebar.classList.add('-translate-x-full');
            sidebar.classList.remove('translate-x-0');
            overlay.classList.add('hidden');
        };

        // навешиваем на ВСЕ кнопки‑триггеры
        document.querySelectorAll('.js-sidebar-open').forEach(btn =>
            btn.addEventListener('click', openSidebar)
        );

        // навешиваем на все элементы, которые должны закрывать
        document.querySelectorAll('.js-sidebar-close').forEach(el =>
            el.addEventListener('click', closeSidebar)
        );
    });
</script>